import { IObjRef } from "soui4/IObjRef";
import { IStringA } from "soui4/IString";
import { int } from "soui4/Typedef";

export class IHttpClient extends IObjRef
{
	DownloadFile(lpUrl:string, lpFilePath:string) :boolean;
	GetErrorCode():HttpError;
	Request(result:IStringA,lpUrl:string, type:RequestType, lpPostData:string, lpHeader:string):boolean;
	GetHttpCode():number;
}

export class HttpRequest extends IHttpClient{
    constructor(url:string, method:string);
    SetHeader(pszKey:string ,pszValue:string):void;
	SetTimeOut(dwConnectTime:int,  dwSendTime:int, dwRecvTime:int) :void;		
    SetOpaque(opaque:int):void;
    DownloadFile(pszFileName:string):boolean;
    Execute():boolean;
    Cancel():void;
    cbHandler:object;
    onResp:(opaque:number,respCode:number,resq:string)=>void;
    onError:(opaque:number,errCode:number)=>void;
    onProg:(opaque:number,state:number,sizeAll:number,sizeLoaded:number)=>void;
}