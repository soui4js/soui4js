
/**
 * websocket module. 
 * can only used in ui thread.
 */
export class WebSocket{
    /**
     * constructor
     * @param protocol protocol
     * @param ca cert path
     * @param selfSigned allow self signed cert [optional], default is false
     * @param skipCheckHostCert skip check host cert [optional], default is false
     * @param allowExpired allow cert expired [optional], default is false
     */
    constructor(protocol:string, ca:string, selfSigned:boolean,skipCheckHostCert:boolean,allowExpired:boolean);

    /**
     * callback this object
     */    
    cbHandler:object;

    /**
     * callback for connect
     */
    onConnected:()=>void;

    /**
     * callback for conn err
     * @param errStr error string
     */
    onConnError:(errStr:string)=>void;

    /**
     * callback for disconnect
     */
    onClose:()=>void;

    /**
     * callback for msg sent finish
     * @param msgId message id
     */
    onDataSent:(msgId:number)=>void;

    /**
     * callback for recv text
     * @param str text
     */
    onText:(str:string)=>void;

    /**
     * callback for recv binary
     * @param buf buffer in ArrayBuffer
     */
    onBinary:(buf:ArrayBuffer)=>void;

    /**
     * sendText
     * @param str text buffer
     * @param len length, default is -1
     * @returns send msg id
     */
    sendText(str:string,len:number):number;

    /**
     * sendBinary
     * @param buf binary array buffer
     * @returns send msg id
     */
    sendBinary(buf:ArrayBuffer):nummber
}
